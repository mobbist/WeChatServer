{"version":3,"sources":["webpack:///js/app.d6e7f28f9b27ea4814e5.js","webpack:///./css/index.css","webpack:///./actions/index.tsx","webpack:///./main.ts","webpack:///./css/index.css?2d8c","webpack:///./containers/Hello.tsx","webpack:///./index.tsx","webpack:///./redeces/demo.tsx","webpack:///./store/configureStore.tsx","webpack:///./store/initState.tsx"],"names":["webpackJsonp","/VV0","module","exports","__webpack_require__","undefined","push","i","C8Yn","changeName","name","type","Object","defineProperty","value","Oqez","SZiR","content","options","hmr","transform","locals","TX0z","mapStateToProps","_a","demo","languageName","mapDispatchToProps","dispatch","actions","mergeProps","stateProps","dispatchProps","ownProps","assign","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","React","react_redux_1","Demo","_super","args","_this","call","state","multiple","imageUp","filedata","submit","self","upload","then","result","JSON","parse","status","document","getElementById","className","setTimeout","setState","file","Promise","resolve","reject","xhr","XMLHttpRequest","onreadystatechange","e","readyState","responseText","open","form","FormData","append","send","clickupdate","click","updateFun","files","target","length","count","thumb","URL","createObjectURL","slice","filter","test","render","createElement","id","onClick","bind","width","src","onChange","style","display","backgroundColor","Component","default","connect","gp7H","ReactDOM","Hello_1","configureStore_1","store","Provider","imCj","__assign","t","s","n","arguments","initState_1","demoReduces","action","lxiX","redux_1","demo_1","rootReducer","combineReducers","createStore","vE+p"],"mappings":"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","file":"js/app.d6e7f28f9b27ea4814e5.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"/VV0\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"lcwS\")(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"*{ margin:0px; padding:0px; }\\nheader{ width:100%; height:44px; background: #f70; text-align: center; line-height: 44px; color: #fff; font-weight: bold  }\\n.body{ padding:10px;}\\n.body p{ line-height: 1.5em}\\n.submit{ height:44px; width:100%; border-radius: 3px; background: #f70; margin-top: 30px; line-height: 44px; text-align: center; color: #fff; font-weight: bold }\\n\\n\\n.updateBox{ width:100%; border: 1px solid #333; overflow: hidden; height:180px; display:flex;  align-items: center; justify-content: center }\\n\\n.bg{ visibility:hidden; opacity:0; transition: 0.5s;  position: fixed; left: 0px; right: 0px; bottom:0px; top:0px; display: flex; align-items: center; justify-content: center  }\\n.bg div{ width: 180px; height:65px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius:8px; background-color:rgba(0,0,0,0.7); color:#fff;  }\\n\\n.show{ visibility: initial;  opacity:1;}\\n\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"C8Yn\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction changeName(name) {\n    return {\n        type: name\n    };\n}\nexports.changeName = changeName;\n\n\n/***/ }),\n\n/***/ \"Oqez\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__webpack_require__(\"gp7H\");\n\n\n/***/ }),\n\n/***/ \"SZiR\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"/VV0\");\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(\"BMrJ\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./index.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./index.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ \"TX0z\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar actions = __webpack_require__(\"C8Yn\");\nvar React = __webpack_require__(\"1n8/\");\nvar react_redux_1 = __webpack_require__(\"jYI/\");\n__webpack_require__(\"SZiR\");\nfunction mapStateToProps(_a) {\n    var languageName = _a.demo.languageName;\n    return {\n        name: languageName\n    };\n}\nexports.mapStateToProps = mapStateToProps;\nfunction mapDispatchToProps(dispatch) {\n    return {\n        changeName: function () { return dispatch(actions.changeName(\"name\")); }\n    };\n}\nexports.mapDispatchToProps = mapDispatchToProps;\nvar Demo = /** @class */ (function (_super) {\n    __extends(Demo, _super);\n    function Demo(args) {\n        var _this = _super.call(this, args) || this;\n        _this.state = {\n            multiple: false,\n            imageUp: \"\",\n            filedata: []\n        };\n        return _this;\n    }\n    Demo.prototype.submit = function () {\n        var res = this.upload(this.state.filedata[0]);\n        var self = this;\n        res.then(function (result) {\n            var res = JSON.parse(result);\n            if (res.status == 200) {\n                document.getElementById(\"message\").className = \"bg show\";\n                setTimeout(function () {\n                    document.getElementById(\"message\").className = \"bg \";\n                    self.setState({\n                        imageUp: \"\",\n                        filedata: []\n                    });\n                }, 1500);\n            }\n        });\n    };\n    Demo.prototype.upload = function (file) {\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            if (xhr.upload) {\n                // 文件上传成功或是失败\n                xhr.onreadystatechange = function (e) {\n                    if (xhr.readyState === 4) {\n                        if (xhr.status === 200) {\n                            //     // 上传成功操作\n                            //     this.handleSuccess(file, xhr.responseText)\n                            //     // 把该文件从上传队列中删除\n                            //     this.handleDeleteFile(file)\n                            resolve(xhr.responseText);\n                            // } else {\n                            //     // 上传出错处理 \n                            //     this.handleFailure(file, xhr.responseText)\n                            //     reject(xhr.responseText);\n                        }\n                    }\n                };\n            }\n            // 开始上传\n            xhr.open(\"POST\", \"http://127.0.0.1:3000/identity/upload\", true);\n            var form = new FormData();\n            form.append(\"filedata\", file);\n            xhr.send(form);\n        });\n    };\n    //上传触发事件\n    Demo.prototype.clickupdate = function () {\n        //this.refs.picture.click();\n        document.getElementById(\"picture\").click();\n    };\n    Demo.prototype.updateFun = function (e) {\n        var files = e.target.files;\n        if (files.length > 0) {\n            //判断是否支持多图上传\n            var count = this.state.multiple ? files.length : 1;\n            //创建本地预览地址\n            for (var i = 0; i < count; i++) {\n                files[i].thumb = URL.createObjectURL(files[i]);\n            }\n            // 转换为真正的数组: 因为files是类数组, 所以并没有slice方法,这里劫持array在原型链上的slice方法,将该方法给files使用.返回一个真数组\n            files = Array.prototype.slice.call(files, 0);\n            // 转为数组是为了使用数组上的filter过滤函数\n            files = files.filter(function (file) { return /image/i.test(file.type); });\n            //遍历出来有图片的话\n            if (files.length > 0) {\n                this.setState({\n                    imageUp: files[0].thumb,\n                    filedata: files\n                });\n            }\n        }\n    };\n    Demo.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(\"article\", null,\n            React.createElement(\"header\", { id: \"app\" }, \"\\u4E0A\\u4F20\\u8EAB\\u4EFD\\u8BA4\\u8BC1\\u4FE1\\u606F\"),\n            React.createElement(\"article\", { className: \"body\" },\n                React.createElement(\"div\", { onClick: this.clickupdate.bind(this), className: \"updateBox\" },\n                    this.state.imageUp == \"\" ?\n                        React.createElement(\"div\", null, \"+ \\u70B9\\u51FB\\u4E0A\\u4F20\")\n                        : React.createElement(\"div\", null,\n                            React.createElement(\"img\", { width: \"100%\", src: this.state.imageUp })),\n                    React.createElement(\"input\", { name: \"filename\", id: \"picture\", onChange: function (e) { return _this.updateFun(e); }, type: \"file\", multiple: this.state.multiple, style: { display: \"none\" } })),\n                this.state.imageUp == \"\" ?\n                    React.createElement(\"div\", { style: { backgroundColor: \"#999\" }, className: \"submit\" }, \"\\u786E\\u5B9A\\u4E0A\\u4F20\")\n                    : React.createElement(\"div\", { onClick: this.submit.bind(this), className: \"submit\" }, \"\\u786E\\u5B9A\\u4E0A\\u4F20\")),\n            React.createElement(\"div\", { className: \"bg\", id: \"message\" },\n                React.createElement(\"div\", null, \"\\u4E0A\\u4F20\\u6210\\u529F\"))));\n    };\n    return Demo;\n}(React.Component));\nfunction mergeProps(stateProps, dispatchProps, ownProps) {\n    return Object.assign({}, ownProps, stateProps, dispatchProps);\n}\nexports.default = react_redux_1.connect(mapStateToProps, mapDispatchToProps, mergeProps)(Demo);\n\n\n/***/ }),\n\n/***/ \"gp7H\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(\"1n8/\");\nvar ReactDOM = __webpack_require__(\"NKHc\");\nvar react_redux_1 = __webpack_require__(\"jYI/\");\nvar Hello_1 = __webpack_require__(\"TX0z\");\nvar configureStore_1 = __webpack_require__(\"lxiX\");\n//3.0.5路由控制\nvar store = configureStore_1.default();\nReactDOM.render(React.createElement(react_redux_1.Provider, { store: store },\n    React.createElement(Hello_1.default, { name: \"123\" })), document.getElementById('app'));\n\n\n/***/ }),\n\n/***/ \"imCj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//初始化state\nvar initState_1 = __webpack_require__(\"vE+p\");\nexports.demoReduces = function (state, action) {\n    if (state === void 0) { state = initState_1.default.demo; }\n    switch (action.type) {\n        case \"changeName\":\n            return __assign({}, state);\n    }\n    return state;\n};\n\n\n/***/ }),\n\n/***/ \"lxiX\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar redux_1 = __webpack_require__(\"fpuT\");\nvar demo_1 = __webpack_require__(\"imCj\");\nvar initState_1 = __webpack_require__(\"vE+p\");\n//合并多个Reduce\nvar rootReducer = redux_1.combineReducers({\n    demo: demo_1.demoReduces\n});\nexports.default = function () {\n    var store = redux_1.createStore(rootReducer, initState_1.default);\n    return store;\n};\n\n\n/***/ }),\n\n/***/ \"vE+p\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// export default {\n//     languageName: 'TypeScript'\n// }\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//解决多个reduce的问题, 先将初始数据转为对象\nexports.default = {\n    demo: {\n        languageName: \"typescript\"\n    }\n};\n\n\n/***/ })\n\n},[\"Oqez\"]);\n\n\n// WEBPACK FOOTER //\n// js/app.d6e7f28f9b27ea4814e5.js","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"*{ margin:0px; padding:0px; }\\nheader{ width:100%; height:44px; background: #f70; text-align: center; line-height: 44px; color: #fff; font-weight: bold  }\\n.body{ padding:10px;}\\n.body p{ line-height: 1.5em}\\n.submit{ height:44px; width:100%; border-radius: 3px; background: #f70; margin-top: 30px; line-height: 44px; text-align: center; color: #fff; font-weight: bold }\\n\\n\\n.updateBox{ width:100%; border: 1px solid #333; overflow: hidden; height:180px; display:flex;  align-items: center; justify-content: center }\\n\\n.bg{ visibility:hidden; opacity:0; transition: 0.5s;  position: fixed; left: 0px; right: 0px; bottom:0px; top:0px; display: flex; align-items: center; justify-content: center  }\\n.bg div{ width: 180px; height:65px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius:8px; background-color:rgba(0,0,0,0.7); color:#fff;  }\\n\\n.show{ visibility: initial;  opacity:1;}\\n\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/css-loader!./css/index.css\n// module id = /VV0\n// module chunks = 1","export interface ChangeName {\n    type: \"changeName\"\n}\n\nexport function changeName(name: any): ChangeName {\n    return {\n        type: name\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./actions/index.tsx","import \"./index\"\n\n\n// WEBPACK FOOTER //\n// ./main.ts","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./index.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./index.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./index.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./css/index.css\n// module id = SZiR\n// module chunks = 1","import * as actions from \"../actions/index\"\nimport * as React from \"react\"\nimport { Store } from \"../types/index\"\nimport { connect, Dispatch } from \"react-redux\"\nimport { Link } from \"react-router-dom\"\nimport \"../css/index.css\"\nexport function mapStateToProps({ demo: { languageName } }: Store) {\n    return {\n        name: languageName\n    };\n}\n\nexport function mapDispatchToProps(dispatch: Dispatch<actions.ChangeName>) {\n    return {\n        changeName: () => dispatch(actions.changeName(\"name\"))\n    }\n}\nexport interface Props {\n    name: string;\n    changeName?: () => void;\n}\nexport interface State {\n    multiple: boolean\n    imageUp: string\n    filedata: any\n}\n\nclass Demo extends React.Component<Props, State>{\n\n    constructor(args: Props) {\n        super(args)\n        this.state = {\n            multiple: false,\n            imageUp: \"\",\n            filedata: []\n        }\n    }\n\n    submit() {\n        let res = this.upload(this.state.filedata[0]);\n        let self = this;\n        res.then((result: any) => {\n\n            let res = JSON.parse(result);\n            if (res.status == 200) {\n                document.getElementById(\"message\").className = \"bg show\";\n                setTimeout(() => {\n                    document.getElementById(\"message\").className = \"bg \";\n                    self.setState({\n                        imageUp: \"\",\n                        filedata: []\n                    })\n                }, 1500)\n            }\n        })\n\n    }\n    upload(file: string) {\n        return new Promise((resolve, reject) => {\n            let xhr = new XMLHttpRequest();\n            if (xhr.upload) {\n                // 文件上传成功或是失败\n                xhr.onreadystatechange = (e) => {\n                    if (xhr.readyState === 4) {\n                        if (xhr.status === 200) {\n                            //     // 上传成功操作\n                            //     this.handleSuccess(file, xhr.responseText)\n                            //     // 把该文件从上传队列中删除\n                            //     this.handleDeleteFile(file)\n                            resolve(xhr.responseText);\n                            // } else {\n                            //     // 上传出错处理 \n                            //     this.handleFailure(file, xhr.responseText)\n                            //     reject(xhr.responseText);\n                        }\n                    }\n                }\n            }\n            // 开始上传\n            xhr.open(\"POST\", \"http://127.0.0.1:3000/identity/upload\", true)\n            let form = new FormData()\n            form.append(\"filedata\", file)\n            xhr.send(form)\n        })\n    }\n    //上传触发事件\n    clickupdate() {\n        //this.refs.picture.click();\n        document.getElementById(\"picture\").click();\n    }\n\n\n    updateFun(e: any) {\n        let files = e.target.files\n        if (files.length > 0) {\n            //判断是否支持多图上传\n            let count = this.state.multiple ? files.length : 1\n            //创建本地预览地址\n            for (let i = 0; i < count; i++) {\n                files[i].thumb = URL.createObjectURL(files[i])\n            }\n            // 转换为真正的数组: 因为files是类数组, 所以并没有slice方法,这里劫持array在原型链上的slice方法,将该方法给files使用.返回一个真数组\n            files = Array.prototype.slice.call(files, 0)\n            // 转为数组是为了使用数组上的filter过滤函数\n            files = files.filter((file: any) => /image/i.test(file.type));\n            //遍历出来有图片的话\n            if (files.length > 0) {\n                this.setState({\n                    imageUp: files[0].thumb,\n                    filedata: files\n                })\n            }\n        }\n    }\n    render() {\n        return (<article>\n            <header id=\"app\">上传身份认证信息</header>\n            <article className=\"body\">\n                <div onClick={this.clickupdate.bind(this)} className=\"updateBox\">\n                    {this.state.imageUp == \"\" ?\n                        <div >+ 点击上传</div>\n                        : <div ><img width=\"100%\" src={this.state.imageUp} /></div>\n                    }\n\n                    <input name=\"filename\" id=\"picture\" onChange={(e) => this.updateFun(e)} type=\"file\" multiple={this.state.multiple} style={{ display: \"none\" }} />\n                </div>\n                {this.state.imageUp == \"\" ?\n                    <div style={{ backgroundColor: \"#999\" }} className=\"submit\">确定上传</div>\n                    : <div onClick={this.submit.bind(this)} className=\"submit\">确定上传</div>\n                }\n\n            </article>\n            <div className=\"bg\" id=\"message\">\n                <div>上传成功</div>\n            </div>\n        </article>)\n    }\n}\n\n\n\n\n\nfunction mergeProps(stateProps: Object, dispatchProps: Object, ownProps: Object) {\n    return Object.assign({}, ownProps, stateProps, dispatchProps);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps, mergeProps)(Demo);\n\n\n\n// WEBPACK FOOTER //\n// ./containers/Hello.tsx","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport Hello from \"./containers/Hello\";\nimport configureStore from \"./store/configureStore\"\nimport Routes from \"./routers\";\n//3.0.5路由控制\n\nconst store = configureStore();\nReactDOM.render(\n  <Provider store={store}>\n    <Hello name=\"123\" />\n  </Provider>,\n  document.getElementById('app') as HTMLElement\n);       \n\n\n// WEBPACK FOOTER //\n// ./index.tsx","import { demo } from \"../types/index\";\n//初始化state\nimport inistState from \"../store/initState\";\nexport const demoReduces = (state: demo = inistState.demo, action: any): demo => {\n\n    switch (action.type) {\n        case \"changeName\":\n            return { ...state }\n    }\n    return state\n} \n\n\n// WEBPACK FOOTER //\n// ./redeces/demo.tsx","import { createStore, combineReducers } from \"redux\";\nimport { demoReduces } from \"../redeces/demo\";\nimport { Store } from \"../types/index\";\nimport initState from './initState';\n\n//合并多个Reduce\nconst rootReducer = combineReducers({\n    demo: demoReduces\n});\nexport default () => {\n    const store = createStore<Store>(rootReducer, initState);\n    return store;\n}\n\n\n// WEBPACK FOOTER //\n// ./store/configureStore.tsx","// export default {\n//     languageName: 'TypeScript'\n// }\n\n//解决多个reduce的问题, 先将初始数据转为对象\nexport default {\n    demo: {\n        languageName: \"typescript\"\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./store/initState.tsx"],"sourceRoot":""}